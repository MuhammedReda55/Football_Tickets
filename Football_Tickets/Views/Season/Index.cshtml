@model IEnumerable<Football_Tickets.Models.Season>

@{
    ViewData["Title"] = "Seasons";
}
@*
<div class="container mt-4">
    <h1 class="text-center mb-4">Seasons</h1>

    <p class="text-end">
        <a asp-action="Create" class="btn btn-outline-info">Create New Season</a>
    </p>

    <table class="table table-bordered table-hover table-striped text-center" style="table-layout: fixed; width: 100%;">
        <thead class="table-dark">
            <tr style="background-color:#003366;>
                <th style="width: 25%;">@Html.DisplayNameFor(model => model.SeasonName)</th>
                <th style="width: 20%;">@Html.DisplayNameFor(model => model.StartDate)</th>
                <th style="width: 20%;">@Html.DisplayNameFor(model => model.EndDate)</th>
                <th style="width: 20%;">@Html.DisplayNameFor(model => model.BasePrice)</th>
                <th style="width: 20%;">Actions</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model)
            {
                <tr>
                    <td>@Html.DisplayFor(modelItem => item.SeasonName)</td>
                    <td>@Html.DisplayFor(modelItem => item.StartDate)</td>
                    <td>@Html.DisplayFor(modelItem => item.EndDate)</td>
                    <td>@Html.DisplayFor(modelItem => item.BasePrice)</td>
                    <td>
                        <div class="d-flex justify-content-center gap-2">
                            <a href="/Season/Edit?SeasonId=@item.SeasonId" class="btn btn-outline-warning btn-sm">Edit</a>
                            <a href="javascript:void(0);"
                               class="btn btn-outline-danger btn-sm"
                               onclick="showDeleteModal('@item.SeasonId')">Delete</a>

                        </div>
                    </td>
                </tr>
            }
        </tbody>
    </table>
</div>
<div class="modal fade" id="deleteModal" tabindex="-1" aria-labelledby="deleteModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="deleteModalLabel">Confirm Delete</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                Are you sure you want to delete this season?
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                <form id="deleteForm" method="post">
                    <button type="submit" class="btn btn-danger">Delete</button>
                </form>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    @if (TempData["message"] != null)
    {
        <script>
            toastr.success('@TempData["message"]');
        </script>
    }

    <script>
        function showDeleteModal(seasonId) {
            // Update the form action with the SeasonId
            const form = document.getElementById("deleteForm");
            form.action = `/Season/Delete?SeasonId=${seasonId}`;

            // Show the modal
            const modal = new bootstrap.Modal(document.getElementById('deleteModal'));
            modal.show();
        }
    </script>
}
*@


<div class="container mt-4">
    <h1 class="text-center mb-4" id="typing-effect" style="color:red"></h1>

    <p class="text-end">
        <a asp-action="Create" class="btn btn-outline-info" style="background-color:#003366">Create New Season</a>
    </p>

    <table class="table table-bordered table-hover table-striped text-center" style="table-layout: fixed; width: 100%;">
        <thead class="table-dark">
            <tr style="background-color:#003366;">
                <th style="width: 25%;">@Html.DisplayNameFor(model => model.SeasonName)</th>
                <th style="width: 20%;">@Html.DisplayNameFor(model => model.StartDate)</th>
                <th style="width: 20%;">@Html.DisplayNameFor(model => model.EndDate)</th>
                <th style="width: 20%;">@Html.DisplayNameFor(model => model.BasePrice)</th>
                <th style="width: 20%;">Actions</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model)
            {
                <tr>
                    <td>@Html.DisplayFor(modelItem => item.SeasonName)</td>
                    <td>@Html.DisplayFor(modelItem => item.StartDate)</td>
                    <td>@Html.DisplayFor(modelItem => item.EndDate)</td>
                    <td>@Html.DisplayFor(modelItem => item.BasePrice)</td>
                    <td>
                        <div class="d-flex justify-content-center gap-2">
                            <a href="/Season/Edit?SeasonId=@item.SeasonId" class="btn btn-outline-warning btn-sm">Edit</a>
                            <a href="javascript:void(0);"
                               class="btn btn-outline-danger btn-sm"
                               onclick="showDeleteModal('@item.SeasonId')">Delete</a>
                        </div>
                    </td>
                </tr>
            }
        </tbody>
    </table>
</div>
<div class="modal fade" id="deleteModal" tabindex="-1" aria-labelledby="deleteModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="deleteModalLabel">Confirm Delete</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                Are you sure you want to delete this season?
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                <form id="deleteForm" method="post">
                    <button type="submit" class="btn btn-danger">Delete</button>
                </form>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    @if (TempData["message"] != null)
    {
        <script>
            toastr.success('@TempData["message"]');
        </script>
    }

    <script>
        function showDeleteModal(seasonId) {
            // Update the form action with the SeasonId
            const form = document.getElementById("deleteForm");
            form.action = `/Season/Delete?SeasonId=${seasonId}`;

            // Show the modal
            const modal = new bootstrap.Modal(document.getElementById('deleteModal'));
            modal.show();
        }

        // Typing Effect for H1
        const textElement = document.getElementById("typing-effect");
        const text = "Seasons"; // The text to type
        let i = 0;
        const speed = 150; // Speed of typing (milliseconds)

        function typeWriter() {
            if (i < text.length) {
                textElement.innerHTML += text.charAt(i);
                i++;
                setTimeout(typeWriter, speed);
            }
        }

        // Start typing effect when the page loads
        window.onload = typeWriter;
    </script>
}

